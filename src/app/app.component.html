<ion-app>
  <ion-split-pane contentId="menu-content" [when]="mediaQueryList.matches" class="my-custom">
    <ion-menu contentId="menu-content" menuId="mains" side="start" type="push">
      <ion-header class="ion-no-border">
        <mat-toolbar style="background: rgba(255,255,255,0); height: 80px; padding-top: 28px;">
          <div>{{nickname ? nickname : '昵称'}}</div>
          <button mat-button class="ml-auto"><span class="fa fa-power-off"></span></button>
        </mat-toolbar>
      </ion-header>
      <ion-content>
        <ion-list>
          <ion-menu-toggle autoHide="false" menu="mains">
            <div class="d-flex justify-content-center">
              <ion-thumbnail style="cursor: pointer;">
                <img [src]="userAvatar ? userAvatar : userAvatarDefault" alt="头像">
              </ion-thumbnail>
            </div>
          </ion-menu-toggle>
        </ion-list>

        <ion-item lines="none">
          <ion-label color="dark">我的成绩</ion-label>
          <ion-text style="font-size: large; color: goldenrod;">97分</ion-text>
        </ion-item>
        <ion-item button>
          <ion-label color="dark">今日打卡</ion-label>
          <ion-icon name="alarm-outline" slot="end" color="danger"></ion-icon>
        </ion-item>

        <ion-item button class="text-center" (click)="goToPage('/')">
          <ion-label color="dark">首页</ion-label>
        </ion-item>

        <mat-accordion>
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-description>导航</mat-panel-description>
            </mat-expansion-panel-header>
            <mat-nav-list>
              <a mat-list-item style="font-size: medium; padding-left: 30%;" *ngFor="let p of theBasePages" (click)="goToPageWithParam(p)">{{p.title}}</a>
            </mat-nav-list>
          </mat-expansion-panel>

          <mat-expansion-panel *ngIf="theServicePages.length > 0">
            <mat-expansion-panel-header>
              <mat-panel-description>菜单</mat-panel-description>
            </mat-expansion-panel-header>
            <mat-nav-list>
              <a mat-list-item style="font-size: medium; padding-left: 30%;" *ngFor="let p of theServicePages" (click)="goToPageWithParam(p)">{{p.title}}</a>
            </mat-nav-list>
          </mat-expansion-panel>

        </mat-accordion>
      </ion-content>
    </ion-menu>

    <ion-router-outlet id="menu-content"></ion-router-outlet>

  </ion-split-pane>
</ion-app>
